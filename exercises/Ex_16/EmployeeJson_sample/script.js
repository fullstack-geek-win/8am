let employeeDetail = {
    "empType":
        [
            { "empType": "Freasher", "userName": "Sarmila S", "empId": "E001" },
            { "empType": "Supervisor", "userName": "Nishanth S", "empId": "E002" },
            { "empType": "Fitter", "userName": "Bavith B", "empId": "E003" },
            { "empType": "Welder", "userName": "Shreesha S", "empId": "E004" },
            { "empType": "Rigger", "userName": "Harini K", "empId": "E005" },
            { "empType": "Grinder", "userName": "Madhan K", "empId": "E006" },
            { "empType": "Supervisor1", "userName": "Dhakshu S", "empId": "E007" },
            { "empType": "Freasher1", "userName": "Geetha A", "empId": "E008" },
            { "empType": "Welder1", "userName": "Priyanka K", "empId": "E009" },
            { "empType": "Grinder1", "userName": "Dayalan S", "empId": "E0010" }
        ],
    "employeesInfo": [
        {
            "name": "Sarmila Shankar",
            "empId": "E001",
            "partTime": true,
            "fullTime": false,
            "empDept": "Freasher",
            "empHiredate": "2023-01-12",
            "transBus": true,
            "transOfz": true,
            "transBike": false,
            "transCar": false,
            "identyDetail":
            {
                "empName": "Sarmila Shankar",
                "idNo": "ID0000112",
                "empDOB": "20 May 2000",
                "empContact": "+91 9123456780",
                "empEmail": "SarmiS@gmail.com",
                "empAdd": "Appavu Nagar, Hosur",
                "idIssueDate": "2023-01-15",
                "img": {
                    "emp1": "none",
                    "emp2": "none",
                    "emp3": "none",
                    "emp4": "block",
                    "emp5": "none",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "block",
                    "qr2": "none",
                    "qr3": "none",
                    "qr4": "none",
                    "qr5": "none"
                }
            }
        },
        {
            "name": "Nishanth Shankar",
            "empId": "E002",
            "partTime": false,
            "fullTime": true,
            "empDept": "Supervisor",
            "empHiredate": "2018-05-20",
            "transBus": false,
            "transOfz": false,
            "transBike": true,
            "transCar": true,
            "identyDetail":
            {
                "empName": "Nishnth Shankar",
                "idNo": "ID0000103",
                "empDOB": "31 March 1990",
                "empContact": "+91 8723526454",
                "empEmail": "NishS@yahoo.com",
                "empAdd": "Vinayaga street, coimbatore",
                "idIssueDate": "2018-05-25",
                "img": {
                    "emp1": "none",
                    "emp2": "block",
                    "emp3": "none",
                    "emp4": "none",
                    "emp5": "none",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "block",
                    "qr3": "none",
                    "qr4": "none",
                    "qr5": "none"
                }
            }
        },
        {
            "name": "Bavith Balaji",
            "empId": "E003",
            "partTime": false,
            "fullTime": true,
            "empDept": "Fitter",
            "empHiredate": "2020-08-15",
            "transBus": false,
            "transOfz": true,
            "transBike": false,
            "transCar": true,
            "identyDetail":
            {
                "empName": "Bavith Balaji",
                "idNo": "ID0000107",
                "empDOB": "02 Apr 1996",
                "empContact": "+91 7452532890",
                "empEmail": "bavith@gmail.com",
                "empAdd": "Anna nagar, Mayiladudurai",
                "idIssueDate": "2020-08-20",
                "img": {
                    "emp1": "none",
                    "emp2": "none",
                    "emp3": "block",
                    "emp4": "none",
                    "emp5": "none",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "none",
                    "qr3": "block",
                    "qr4": "none",
                    "qr5": "none"
                }
            }
        },
        {
            "name": "Shreesha Sambath",
            "empId": "E004",
            "partTime": true,
            "fullTime": false,
            "empDept": "Welder",
            "empHiredate": "2019-07-01",
            "transBus": false,
            "transOfz": true,
            "transBike": true,
            "transCar": false,
            "identyDetail":
            {
                "empName": "Shreesha Sambath",
                "idNo": "ID0000103",
                "empDOB": "20 Dec 1996",
                "empContact": "+91 6324832322",
                "empEmail": "ShreeS@gmail.com",
                "empAdd": "Valluvar Street, Kumbakonam",
                "idIssueDate": "2019-07-08",
                "img": {
                    "emp1": "none",
                    "emp2": "none",
                    "emp3": "none",
                    "emp4": "block",
                    "emp5": "none",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "none",
                    "qr3": "none",
                    "qr4": "block",
                    "qr5": "none"
                }
            }
        },
        {
            "name": "Harini Karthick",
            "empId": "E005",
            "partTime": true,
            "fullTime": false,
            "empDept": "Rigger",
            "empHiredate": "2021-04-23",
            "transBus": false,
            "transOfz": true,
            "transBike": false,
            "transCar": false,
            "identyDetail":
            {
                "empName": "Harini Karthick",
                "idNo": "ID0000160",
                "empDOB": "03 Sep 1997",
                "empContact": "+91 9882163721",
                "empEmail": "Harini@gmail.com",
                "empAdd": "Mullai street, Chennai",
                "idIssueDate": "2021-04-27",
                "img": {
                    "emp1": "none",
                    "emp2": "none",
                    "emp3": "none",
                    "emp4": "none",
                    "emp5": "block",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "none",
                    "qr3": "none",
                    "qr4": "none",
                    "qr5": "block"
                }
            }
        },
        {
            "name": "Madhan Kumar",
            "empId": "E006",
            "partTime": false,
            "fullTime": true,
            "empDept": "Grinder",
            "empHiredate": "2022-03-09",
            "transBus": false,
            "transOfz": false,
            "transBike": false,
            "transCar": true,
            "identyDetail":
            {
                "empName": "Madhan Kumar",
                "idNo": "ID0000890",
                "empDOB": "06 July 2000",
                "empContact": "+91 9364354332",
                "empEmail": "madan@gmail.com",
                "empAdd": "Titan township, Hosur",
                "idIssueDate": "2022-03-13",
                "img": {
                    "emp1": "block",
                    "emp2": "none",
                    "emp3": "none",
                    "emp4": "none",
                    "emp5": "none",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "none",
                    "qr3": "none",
                    "qr4": "block",
                    "qr5": "none"
                }
            }
        },
        {
            "name": "Dhakshu Santhosh",
            "empId": "E007",
            "partTime": true,
            "fullTime": false,
            "empDept": "Supervisor",
            "empHiredate": "2017-02-11",
            "transBus": false,
            "transOfz": true,
            "transBike": true,
            "transCar": true,
            "identyDetail":
            {
                "empName": "Dhakshu Santhosh",
                "idNo": "ID0000789",
                "empDOB": "09 Oct 1994",
                "empContact": "+91 9654234123",
                "empEmail": "Dhaks@gmail.com",
                "empAdd": "Tank Street, Namakkal",
                "idIssueDate": "2017-02-13",
                "img": {
                    "emp1": "none",
                    "emp2": "none",
                    "emp3": "none",
                    "emp4": "block",
                    "emp5": "none",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "block",
                    "qr3": "none",
                    "qr4": "none",
                    "qr5": "none"
                }
            }
        },
        {
            "name": "Geetha Arumugam",
            "empId": "E008",
            "partTime": true,
            "fullTime": false,
            "empDept": "Freasher",
            "empHiredate": "2023-03-01",
            "transBus": true,
            "transOfz": false,
            "transBike": true,
            "transCar": false,
            "identyDetail":
            {
                "empName": "Geetha Arumugam",
                "idNo": "ID0000345",
                "empDOB": "01 Sep 1994",
                "empContact": "+91 9364354332",
                "empEmail": "geethu@yahoo.com",
                "empAdd": "Maragatham nagar, Thanjavur",
                "idIssueDate": "2023-03-03",
                "img": {
                    "emp1": "none",
                    "emp2": "none",
                    "emp3": "none",
                    "emp4": "none",
                    "emp5": "block",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "none",
                    "qr3": "block",
                    "qr4": "none",
                    "qr5": "none"
                }
            }
        },
        {
            "name": "Priyanka Kamal",
            "empId": "E009",
            "partTime": false,
            "fullTime": true,
            "empDept": "Welder",
            "empHiredate": "2019-07-02",
            "transBus": false,
            "transOfz": true,
            "transBike": true,
            "transCar": false,
            "identyDetail":
            {
                "empName": "Priyanka Kamal",
                "idNo": "ID0000235",
                "empDOB": "01 Jan 1998",
                "empContact": "+91 746457439",
                "empEmail": "Priya@yahoo.com",
                "empAdd": "Mullai street, Chennai",
                "idIssueDate": "2019-07-10",
                "img": {
                    "emp1": "none",
                    "emp2": "none",
                    "emp3": "none",
                    "emp4": "block",
                    "emp5": "none",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "none",
                    "qr3": "none",
                    "qr4": "block",
                    "qr5": "none"
                }
            }
        },
        {
            "name": "Dayalan Sanju",
            "empId": "E0010",
            "partTime": true,
            "fullTime": false,
            "empDept": "Grinder",
            "empHiredate": "2022-11-02",
            "transBus": true,
            "transOfz": false,
            "transBike": false,
            "transCar": false,
            "identyDetail":
            {
                "empName": "Dayalan Sanju",
                "idNo": "ID0000678",
                "empDOB": "03 Sep 1997",
                "empContact": "+91 9364354332",
                "empEmail": "Daya@gmail.com",
                "empAdd": "Tank Street, Namakkal",
                "idIssueDate": "2022-11-10",
                "img": {
                    "emp1": "none",
                    "emp2": "block",
                    "emp3": "none",
                    "emp4": "none",
                    "emp5": "none",
                    "emp6": "none"
                },
                "qr": {
                    "qr1": "none",
                    "qr2": "none",
                    "qr3": "none",
                    "qr4": "none",
                    "qr5": "block"
                }
            }
        }
    ],

    "salaryAndManager": [
        {
            "manager": "Mr.Balaji k",
            "salaryAndDept": [
                {
                    "empDept": "Freasher",
                    "salary": "6 Lakh/Annum"
                },

                {
                    "empDept": "Supervisor",
                    "salary": "9.5 Lakh/Annum"
                }
            ]
        },
        {
            "manager": "Mr.Manikandan",
            "salaryAndDept": [
                {
                    "empDept": "Rigger",
                    "salary": "4.5 Lakh/Annum"
                },
                {
                    "empDept": "Fitter",
                    "salary": "4 Lakh/Annum"
                }
            ]
        },
        {
            "manager": "Mr.Kalyan",
            "salaryAndDept": [
                {
                    "empDept": "Freasher",
                    "salary": "2.5 Lakh/Annum"
                },
                {
                    "empDept": "Grinder",
                    "salary": "8.5 Lakh/Annum"
                }
            ]
        }
    ]
}
let empTypeName, employmentAllData = new Object, employeeType = new Array, employeeUsername = new Array;
function employeeName() {
    for (let i = 0; i < employeeDetail.empType.length; i++) {
        let empTypeName = employeeDetail.empType, empUserName;
        var newDiv = document.createElement("BUTTON");
        newDiv.id = 'button' + i;
        newDiv.className = 'EmpButton';
        newDiv.innerHTML = '';
        empUserName = empTypeName[i].empId;
        document.getElementById("addDiv").appendChild(newDiv);
        document.getElementById(newDiv.id).innerHTML = empTypeName[i].userName;
        let change = document.getElementById("addDiv").appendChild(newDiv);
        change.onclick = function () { getDetails(empUserName); };
    }
}

function getDetails(id) {
    for (let i = 0; i < employeeDetail.employeesInfo.length; i++) {
        let getSelectedEmp = employeeDetail.employeesInfo;
        if (id == getSelectedEmp[i].empId) {

            /////////////////////////////////////////Assigning the data for main section////////////////////////////////////
            document.getElementById("empId").value = getSelectedEmp[i].empId;
            document.getElementById("empFName").value = getSelectedEmp[i].name;
            document.getElementById("partTime").checked = getSelectedEmp[i].partTime;
            document.getElementById("fullTime").checked = getSelectedEmp[i].fullTime;
            document.getElementById("empDept").value = getSelectedEmp[i].empDept;
            document.getElementById("empHiredate").value = getSelectedEmp[i].empHiredate;
            document.getElementById("transBus").checked = getSelectedEmp[i].transBus;
            document.getElementById("transOfz").checked = getSelectedEmp[i].transOfz;
            document.getElementById("transBike").checked = getSelectedEmp[i].transBike;
            document.getElementById("transCar").checked = getSelectedEmp[i].transCar;

            /////////////////////////////////////////Assigning the data for identification section////////////////////////////////////
            document.getElementById("empName").textContent = getSelectedEmp[i].identyDetail.empName;
            document.getElementById("idNo").textContent = getSelectedEmp[i].identyDetail.idNo;
            document.getElementById("empDOB").textContent = getSelectedEmp[i].identyDetail.empDOB;
            document.getElementById("empContact").textContent = getSelectedEmp[i].identyDetail.empContact;
            document.getElementById("empEmail").textContent = getSelectedEmp[i].identyDetail.empEmail;
            document.getElementById("empAdd").textContent = getSelectedEmp[i].identyDetail.empAdd;
            document.getElementById("idIssueDate").textContent = getSelectedEmp[i].identyDetail.idIssueDate;

            /////////////////////////////////////////Hiding other emp Img and showing one particular img////////////////////////////////
            document.getElementById("emp1").style.display = getSelectedEmp[i].identyDetail.img.emp1;
            document.getElementById("emp2").style.display = getSelectedEmp[i].identyDetail.img.emp2;
            document.getElementById("emp3").style.display = getSelectedEmp[i].identyDetail.img.emp3;
            document.getElementById("emp4").style.display = getSelectedEmp[i].identyDetail.img.emp4;
            document.getElementById("emp5").style.display = getSelectedEmp[i].identyDetail.img.emp5;
            document.getElementById("emp6").style.display = getSelectedEmp[i].identyDetail.img.emp6;

            /////////////////////////////////////////Hiding other user QR and showing one particular QR////////////////////////////////
            document.getElementById("qr1").style.display = getSelectedEmp[i].identyDetail.qr.qr1;
            document.getElementById("qr2").style.display = getSelectedEmp[i].identyDetail.qr.qr2;
            document.getElementById("qr3").style.display = getSelectedEmp[i].identyDetail.qr.qr3;
            document.getElementById("qr4").style.display = getSelectedEmp[i].identyDetail.qr.qr4;
            document.getElementById("qr5").style.display = getSelectedEmp[i].identyDetail.qr.qr5;

            salaryCalculation(getSelectedEmp[i].empDept);
            monthDiff(getSelectedEmp[i].empHiredate);
            hideAndShowIdentity();
        }
    }
}

//////////////////Function for assigning salary and employee manager user string function////////////////////
function salaryCalculation(empType) {
    for (let i = 0; i < employeeDetail.salaryAndManager.length; i++) {
        let salaryManagerDet = employeeDetail.salaryAndManager;
        for (let j = 0; j < salaryManagerDet[i].salaryAndDept.length; j++) {
            if (empType.includes(salaryManagerDet[i].salaryAndDept[j].empDept)) {
                document.getElementById("empSalary").value = salaryManagerDet[i].salaryAndDept[j].salary;
                document.getElementById("empManager").value = salaryManagerDet[i].manager;
            }
        }
    }
}

//////////////////Function for assigning total experience from today////////////////////
function monthDiff(hiredate) {
    var Difference_In_years, days, Difference_In_month;
    const d = new Date(hiredate);
    const today = new Date();
    var days = (today.getTime() - d.getTime()) / 1000;
    days /= (60 * 60 * 24);
    Difference_In_years = Math.abs(Math.round(days / 365.25));
    Difference_In_month = Math.abs(Math.round(days / 31));
    if (Difference_In_years == 0) {
        document.getElementById("empExp").value = Difference_In_month + " Month (Less then a year)";
    }
    else {
        document.getElementById("empExp").value = Difference_In_years + " Years";
    }
}

/////////////////////////////Function used to hide and show the identity section//////////////////////////////////
function hideAndShowIdentity() {
    var x = document.getElementById("idDiv");
    var y = document.getElementById("hideDiv");
    if (x.style.display == "") {
        x.style.display = "block";
        y.style.display = "none";
    } else {
        x.style.display = "block";
        y.style.display = "none";
    }
}